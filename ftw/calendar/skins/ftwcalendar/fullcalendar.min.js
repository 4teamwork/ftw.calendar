/*

 FullCalendar v1.4.6
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, required jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2009 Adam Shaw
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html

 Date: Mon May 31 10:18:29 2010 -0700

*/
(function(m){function Ha(a,b){a._id=a._id||(a.id===J?"_fc"+Db++:a.id+"");if(a.date){if(!a.start)a.start=a.date;delete a.date}a._start=o(a.start=lb(a.start));a.end=lb(a.end);if(a.end&&a.end<=a.start)a.end=null;a._end=a.end?o(a.end):null;if(a.allDay===J)a.allDay=b.allDayDefault;if(a.className){if(typeof a.className=="string")a.className=a.className.split(/\s+/)}else a.className=[]}function Xa(a,b,e){function c(n,k,K,g){Z=n;Q=k;R=b.theme?"ui":"fc";ga=b.weekends?0:1;ja=b.firstDay;if(ea=b.isRTL){fa=-1;
ka=Q-1}else{fa=1;ka=0}var v=G.start.getMonth(),x=Ia(new Date),q,C=o(G.visStart);if(u){E();k=u.find("tr").length;if(Z<k)u.find("tr:gt("+(Z-1)+")").remove();else if(Z>k){n="";for(k=k;k<Z;k++){n+="<tr class='fc-week"+k+"'>";for(q=0;q<Q;q++){n+="<td class='fc-"+za[C.getDay()]+" "+R+"-state-default fc-new fc-day"+(k*Q+q)+(q==ka?" fc-leftmost":"")+"'>"+(g?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";D(C,1);ga&&ba(C)}n+="</tr>"}u.append(n)}r(u.find("td.fc-new").removeClass("fc-new"));
C=o(G.visStart);u.find("td").each(function(){var X=m(this);if(Z>1)C.getMonth()==v?X.removeClass("fc-other-month"):X.addClass("fc-other-month");+C==+x?X.removeClass("fc-not-today").addClass("fc-today").addClass(R+"-state-highlight"):X.addClass("fc-not-today").removeClass("fc-today").removeClass(R+"-state-highlight");X.find("div.fc-day-number").text(C.getDate());D(C,1);ga&&ba(C)});if(Z==1){C=o(G.visStart);na.find("th").each(function(){m(this).text(oa(C,K,b));this.className=this.className.replace(/^fc-\w+(?= )/,
"fc-"+za[C.getDay()]);D(C,1);ga&&ba(C)});C=o(G.visStart);u.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+za[C.getDay()]);D(C,1);ga&&ba(C)})}}else{var M=m("<table/>").appendTo(a);n="<thead><tr>";for(k=0;k<Q;k++){n+="<th class='fc-"+za[C.getDay()]+" "+R+"-state-default"+(k==ka?" fc-leftmost":"")+"'>"+oa(C,K,b)+"</th>";D(C,1);ga&&ba(C)}na=m(n+"</tr></thead>").appendTo(M);n="<tbody>";C=o(G.visStart);for(k=0;k<Z;k++){n+="<tr class='fc-week"+k+"'>";for(q=0;q<Q;q++){n+=
"<td class='fc-"+za[C.getDay()]+" "+R+"-state-default fc-day"+(k*Q+q)+(q==ka?" fc-leftmost":"")+(Z>1&&C.getMonth()!=v?" fc-other-month":"")+(+C==+x?" fc-today "+R+"-state-highlight":" fc-not-today")+"'>"+(g?"<div class='fc-day-number'>"+C.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";D(C,1);ga&&ba(C)}n+="</tr>"}u=m(n+"</tbody>").appendTo(M);r(u.find("td"));sa=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}}function h(n){ua=
n;n=u.find("tr td:first-child");var k=ua-na.height(),K;if(b.weekMode=="variable")K=k=Math.floor(k/(Z==1?2:6));else{K=Math.floor(k/Z);k=k-K*(Z-1)}if(Ya===J){var g=u.find("tr:first").find("td:first");g.height(K);Ya=K!=g.height()}if(Ya){n.slice(0,-1).height(K);n.slice(-1).height(k)}else{Ra(n.slice(0,-1),K);Ra(n.slice(-1),k)}}function l(n){ca=n;U.clear();Ja(na.find("th").slice(0,-1),L=Math.floor(ca/Q))}function j(n){G.reportEvents(va=n);I(s(n))}function F(n){E();I(s(va),n)}function E(){G._clearEvents();
sa.empty()}function s(n){var k=o(G.visStart),K=D(o(k),Q),g=m.map(n,Pa),v,x,q,C,M,X,T=[];for(v=0;v<Z;v++){x=Za(G.sliceSegs(n,g,k,K));for(q=0;q<x.length;q++){C=x[q];for(M=0;M<C.length;M++){X=C[M];X.row=v;X.level=q;T.push(X)}}D(k,7);D(K,7)}return T}function I(n,k){mb(n,Z,G,0,ca,function(K){return u.find("tr:eq("+K+")")},U.left,U.right,sa,B,k)}function B(n,k,K){G.eventElementHandlers(n,k);if(n.editable||n.editable===J&&b.editable){S(n,k);K.isEnd&&G.resizableDayEvent(n,k,L)}}function S(n,k){if(!b.disableDragging&&
k.draggable){var K,g=0;k.draggable({zIndex:9,delay:50,opacity:G.option("dragOpacity"),revertDuration:b.dragRevertDuration,start:function(v,x){G.hideEvents(n,k);G.trigger("eventDragStart",k,n,v,x);K=la(function(q){k.draggable("option","revert",!q||!q.rowDelta&&!q.colDelta);pa();if(q){g=q.rowDelta*7+q.colDelta*fa;ha(K,D(o(n.start),g),D(Pa(n),g))}else g=0});K.mouse(v)},drag:function(v){K.mouse(v)},stop:function(v,x){pa();G.trigger("eventDragStop",k,n,v,x);if(g){k.find("a").removeAttr("href");G.eventDrop(this,
n,g,0,n.allDay,v,x)}else{m.browser.msie&&k.css("filter","");G.showEvents(n,k)}}})}}function r(n){n.click($).mousedown(A)}function $(n){if(!G.option("selectable")){var k=parseInt(this.className.match(/fc\-day(\d+)/)[1]);k=D(o(G.visStart),Math.floor(k/Q)*7+k%Q);G.trigger("dayClick",this,k,true,n)}}function A(n){if(G.option("selectable")){V=la(function(k){if(k){k=wa(k.row,k.col);ia.drag(k,k,true)}else ia.drag()});$a(function(k){V.mouse(k)},function(k){ia.dragStop(k)});ia.dragStart(n);V.mouse(n);return false}}
function P(){ia.unselect()}function ha(n,k,K){for(var g=o(G.visStart),v=D(o(g),Q),x=0;x<Z;x++){var q=new Date(Math.max(g,k)),C=new Date(Math.min(v,K));if(q<C){var M;if(ea){M=Aa(C,g)*fa+ka+1;q=Aa(q,g)*fa+ka+1}else{M=Aa(q,g);q=Aa(C,g)}M=n.rect(x,M,x+1,q,a);r(G.renderOverlay(M,a))}D(g,7);D(v,7)}}function pa(){G.clearOverlays()}function la(n){var k=u.find("tr:first td");if(ea)k=m(k.get().reverse());return new ab(u.find("tr"),k,n)}function wa(n,k){return D(o(G.visStart),n*7+k*fa+ka)}var R,ja,ga,ea,fa,
ka,ca,ua,Z,Q,L,na,u,va=[],sa,U=new nb(function(n){return u.find("td:eq("+(n-Math.max(ja,ga)+Q)%Q+") div div")}),ia,V,G=m.extend(this,ob,e,{renderGrid:c,renderEvents:j,rerenderEvents:F,clearEvents:E,setHeight:h,setWidth:l,defaultEventEnd:function(n){return o(n.start)}});G.init(a,b);pb(a.addClass("fc-grid"));ia=new bb(G,P,function(n,k){ha(V,n,D(o(k),1))},pa);qb(G,P);G.select=function(n,k,K){k||(k=o(n));V=la();ia.select(n,k,K)};G.unselect=P}function mb(a,b,e,c,h,l,j,F,E,s,I){var B=e.options,S=B.isRTL,
r,$=a.length,A,P,ha,pa,la,wa="",R={},ja={},ga=[],ea=[];for(r=0;r<$;r++){A=a[r];P=A.event;ha="fc-event fc-event-hori ";if(S){if(A.isStart)ha+="fc-corner-right ";if(A.isEnd)ha+="fc-corner-left ";pa=A.isEnd?j(A.end.getDay()-1):c;la=A.isStart?F(A.start.getDay()):h}else{if(A.isStart)ha+="fc-corner-left ";if(A.isEnd)ha+="fc-corner-right ";pa=A.isStart?j(A.start.getDay()):c;la=A.isEnd?F(A.end.getDay()-1):h}wa+="<div class='"+ha+P.className.join(" ")+"' style='position:absolute;z-index:8;left:"+pa+"px'><a"+
(P.url?" href='"+Ka(P.url)+"'":"")+">"+(!P.allDay&&A.isStart?"<span class='fc-event-time'>"+Ka(Ea(P.start,P.end,e.option("timeFormat"),B))+"</span>":"")+"<span class='fc-event-title'>"+Ka(P.title)+"</span></a>"+((P.editable||P.editable===J&&B.editable)&&!B.disableResizing&&m.fn.resizable?"<div class='ui-resizable-handle ui-resizable-"+(S?"w":"e")+"'></div>":"")+"</div>";A.left=pa;A.outerWidth=la-pa}E[0].innerHTML=wa;h=E.children();for(r=0;r<$;r++){A=a[r];c=m(h[r]);P=A.event;j=e.trigger("eventRender",
P,P,c);if(j===false)c.remove();else{if(j&&j!==true){c.remove();c=m(j).css({position:"absolute",left:A.left}).appendTo(E)}A.element=c;if(P._id===I)s(P,c,A);else c[0]._fci=r;e.reportEventElement(P,c)}}rb(E,a,s);for(r=0;r<$;r++){A=a[r];if(c=A.element){s=R[E=A.key=sb(c[0])];A.hsides=s===J?(R[E]=cb(c[0],true)):s}}for(r=0;r<$;r++){A=a[r];if(c=A.element)c[0].style.width=A.outerWidth-A.hsides+"px"}for(r=0;r<$;r++){A=a[r];if(c=A.element){s=ja[E=A.key];A.outerHeight=c[0].offsetHeight+(s===J?(ja[E]=tb(c[0])):
s)}}for(R=r=0;R<b;R++){for(ja=E=s=0;r<$&&(A=a[r]).row==R;){if(A.level!=E){ja+=s;s=0;E++}s=Math.max(s,A.outerHeight||0);A.top=ja;r++}ga[R]=l(R).find("td:first div.fc-day-content > div").height(ja+s)}for(R=0;R<b;R++)ea[R]=ga[R][0].offsetTop;for(r=0;r<$;r++){A=a[r];if(c=A.element){c[0].style.top=ea[A.row]+A.top+"px";P=A.event;e.trigger("eventAfterRender",P,P,c)}}}function ub(a,b,e){function c(d,f){g=d;ma=b.theme?"ui":"fc";La=b.weekends?0:1;vb=b.firstDay;if(Sa=b.isRTL){W=-1;qa=g-1}else{W=1;qa=0}Ba=wb(b.minTime);
Ta=wb(b.maxTime);d=Sa?D(o(w.visEnd),-1):o(w.visStart);var i=o(d),t=Ia(new Date);if(V){S();V.find("tr:first th").slice(1,-1).each(function(){m(this).text(oa(i,f,b));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+za[i.getDay()]);D(i,W);La&&ba(i,W)});i=o(d);K.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+za[i.getDay()]);+i==+t?m(this).removeClass("fc-not-today").addClass("fc-today").addClass(ma+"-state-highlight"):m(this).addClass("fc-not-today").removeClass("fc-today").removeClass(ma+
"-state-highlight");D(i,W);La&&ba(i,W)})}else{var p,z,y=b.slotMinutes%15==0,H="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(b.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+ma+"-state-default'>&nbsp;</th>";for(p=0;p<g;p++){H+="<th class='fc-"+za[i.getDay()]+" "+ma+"-state-default'>"+oa(i,f,b)+"</th>";D(i,W);La&&ba(i,W)}H+="<th class='"+ma+"-state-default'>&nbsp;</th></tr>";if(b.allDaySlot)H+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+
ma+"-state-default'>"+b.allDayText+"</th><td colspan='"+g+"' class='"+ma+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+ma+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(g+2)+"' class='"+ma+"-state-default fc-leftmost'><div/></th></tr>";H+="</table></div>";V=m(H).appendTo(a);F(V.find("td"));db=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(V);i=xb();var N=da(o(i),Ta);da(i,Ba);H=
"<table>";for(p=0;i<N;p++){z=i.getMinutes();H+="<tr class='"+(!p?"fc-first":!z?"":"fc-minor")+"'><th class='fc-axis fc-leftmost "+ma+"-state-default'>"+(!y||!z?oa(i,b.axisFormat):"&nbsp;")+"</th><td class='fc-slot"+p+" "+ma+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";da(i,b.slotMinutes);v++}H+="</table>";G=m("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(n=m("<div style='position:relative;overflow:hidden'>").append(k=m(H))).appendTo(a);
E(G.find("td"));Ma=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(n);i=o(d);H="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(p=0;p<g;p++){H+="<td class='fc-"+za[i.getDay()]+" "+ma+"-state-default "+(!p?"fc-leftmost ":"")+(+i==+t?ma+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";D(i,W);La&&ba(i,W)}H+="</tr></table></div>";K=m(H).appendTo(a)}}
function h(){var d=xb(),f=o(d);f.setHours(b.firstHour);var i=L(d,f)+1;d=function(){G.scrollTop(i)};d();setTimeout(d,0)}function l(d,f){X=d;eb={};G.height(d-V.height());C=G.find("tr:first div").height()+1;K.css({top:V.find("tr").height(),height:d});f&&h()}function j(d){M=d;Qa.clear();G.width(d);k.width("");d=V.find("tr:first th");var f=K.find("td"),i=G[0].clientWidth;k.width(i);x=0;Ja(V.find("tr:lt(2) th:first").add(G.find("tr:first th")).width("").each(function(){x=Math.max(x,m(this).outerWidth())}),
x);q=Math.floor((i-x)/g);Ja(f.slice(0,-1),q);Ja(d.slice(1,-2),q);Ja(d.slice(-2,-1),i-x-q*(g-1));K.css({left:x,width:i-x})}function F(d){d.click(s).mousedown(ga)}function E(d){d.click(s).mousedown(ea)}function s(d){if(!w.option("selectable")){var f=Math.floor((d.pageX-K.offset().left)/q);f=D(o(w.visStart),qa+W*f);var i=this.className.match(/fc-slot(\d+)/);if(i){i=parseInt(i[1])*b.slotMinutes;var t=Math.floor(i/60);f.setHours(t);f.setMinutes(i%60+Ba);w.trigger("dayClick",this,f,false,d)}else w.trigger("dayClick",
this,f,true,d)}}function I(d,f){w.reportEvents(xa=d);var i,t=d.length,p=[],z=[];for(i=0;i<t;i++)d[i].allDay?p.push(d[i]):z.push(d[i]);A(r(p),f);P($(z),f)}function B(d){S();I(xa,d)}function S(){w._clearEvents();db.empty();Ma.empty()}function r(d){d=Za(w.sliceSegs(d,m.map(d,Pa),w.visStart,w.visEnd));var f,i=d.length,t,p,z,y=[];for(f=0;f<i;f++){t=d[f];for(p=0;p<t.length;p++){z=t[p];z.row=0;z.level=f;y.push(z)}}return y}function $(d){var f=da(o(w.visStart),Ba),i=m.map(d,va),t,p,z,y,H,N,Y=[];for(t=0;t<
g;t++){p=Za(w.sliceSegs(d,i,f,da(o(f),Ta-Ba)));Eb(p);for(z=0;z<p.length;z++){y=p[z];for(H=0;H<y.length;H++){N=y[H];N.col=t;N.level=z;Y.push(N)}}D(f,1,true)}return Y}function A(d,f){if(b.allDaySlot){mb(d,1,w,x,M,function(){return V.find("tr.fc-all-day")},function(i){return x+Qa.left(sa(i))},function(i){return x+Qa.right(sa(i))},db,pa,f);l(X)}}function P(d,f){var i,t=d.length,p,z,y,H,N,Y,O,aa,Ca,Da,yb="",Ua={},zb={};for(i=0;i<t;i++){p=d[i];z=p.event;y="fc-event fc-event-vert ";if(p.isStart)y+="fc-corner-top ";
if(p.isEnd)y+="fc-corner-bottom ";H=L(p.start,p.start);N=L(p.start,p.end);Y=p.col;O=p.level;aa=p.forward||0;Ca=x+Qa.left(Y*W+qa);Da=x+Qa.right(Y*W+qa)-Ca;Da=Math.min(Da-6,Da*0.95);Y=O?Da/(O+aa+1):aa?(Da/(aa+1)-6)*2:Da;O=Ca+Da/(O+aa+1)*O*W+(Sa?Da-Y:0);p.top=H;p.left=O;p.outerWidth=Y;p.outerHeight=N-H;yb+=ha(z,p,y)}Ma[0].innerHTML=yb;H=Ma.children();for(i=0;i<t;i++){p=d[i];z=p.event;y=m(H[i]);N=w.trigger("eventRender",z,z,y);if(N===false)y.remove();else{if(N&&N!==true){y.remove();y=m(N).css({position:"absolute",
top:p.top,left:p.left}).appendTo(Ma)}p.element=y;if(z._id===f)la(z,y,p);else y[0]._fci=i;w.reportEventElement(z,y)}}rb(Ma,d,la);for(i=0;i<t;i++){p=d[i];if(y=p.element){f=Ua[z=p.key=sb(y[0])];p.vsides=f===J?(Ua[z]=fb(y[0],true)):f;f=zb[z];p.hsides=f===J?(zb[z]=cb(y[0],true)):f;z=y.find("span.fc-event-title");if(z.length)p.titleTop=z[0].offsetTop}}for(i=0;i<t;i++){p=d[i];if(y=p.element){y[0].style.width=p.outerWidth-p.hsides+"px";y[0].style.height=(Ua=p.outerHeight-p.vsides)+"px";z=p.event;if(p.titleTop!==
J&&Ua-p.titleTop<10){y.find("span.fc-event-time").text(oa(z.start,w.option("timeFormat"))+" - "+z.title);y.find("span.fc-event-title").remove()}w.trigger("eventAfterRender",z,z,y)}}}function ha(d,f,i){return"<div class='"+i+d.className.join(" ")+"' style='position:absolute;z-index:8;top:"+f.top+"px;left:"+f.left+"px'><a"+(d.url?" href='"+Ka(d.url)+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+Ka(Ea(d.start,d.end,w.option("timeFormat")))+"</span><span class='fc-event-title'>"+
Ka(d.title)+"</span></a>"+((d.editable||d.editable===J&&b.editable)&&!b.disableResizing&&m.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}function pa(d,f,i){w.eventElementHandlers(d,f);if(d.editable||d.editable===J&&b.editable){wa(d,f,i.isStart);i.isEnd&&w.resizableDayEvent(d,f,q)}}function la(d,f,i){w.eventElementHandlers(d,f);if(d.editable||d.editable===J&&b.editable){var t=f.find("span.fc-event-time");R(d,f,t);i.isEnd&&ja(d,f,t)}}function wa(d,f,i){if(!b.disableDragging&&
f.draggable){var t,p,z,y=true,H;f.draggable({zIndex:9,opacity:w.option("dragOpacity","month"),revertDuration:b.dragRevertDuration,start:function(N,Y){w.hideEvents(d,f);w.trigger("eventDragStart",f,d,N,Y);t=f.position();p=f.width();z=function(){if(!y){f.width(p).height("").draggable("option","grid",null);y=true}};H=na(function(O){f.draggable("option","revert",!O||!O.rowDelta&&!O.colDelta);w.clearOverlays();if(O)if(O.row){if(i&&y){Ra(f.width(q-10),C*Math.round((d.end?(d.end-d.start)/Fb:b.defaultEventMinutes)/
b.slotMinutes));f.draggable("option","grid",[q,1]);y=false}}else{ua(H,D(o(d.start),O.colDelta),D(Pa(d),O.colDelta));z()}},true);H.mouse(N)},drag:function(N){H.mouse(N)},stop:function(N,Y){w.trigger("eventDragStop",f,d,N,Y);w.clearOverlays();var O=H.cell,aa=W*(y?O?O.colDelta:0:Math.floor((Y.position.left-t.left)/q));if(!O||!aa&&!O.rowDelta){z();m.browser.msie&&f.css("filter","");w.showEvents(d,f)}else{f.find("a").removeAttr("href");w.eventDrop(this,d,aa,y?0:Math.round((f.offset().top-n.offset().top)/
C)*b.slotMinutes+Ba-(d.start.getHours()*60+d.start.getMinutes()),y,N,Y)}}})}}function R(d,f,i){if(!b.disableDragging&&f.draggable){var t,p,z,y,H=false,N;f.draggable({zIndex:9,scroll:false,grid:[q,C],axis:g==1?"y":false,opacity:w.option("dragOpacity"),revertDuration:b.dragRevertDuration,start:function(Y,O){w.hideEvents(d,f);w.trigger("eventDragStart",f,d,Y,O);m.browser.msie&&f.find("span.fc-event-bg").hide();t=f.position();p=function(){if(H){i.css("display","");f.draggable("option","grid",[q,C]);H=
false}};z=0;N=na(function(aa){f.draggable("option","revert",!aa);w.clearOverlays();if(aa)if(!aa.row&&b.allDaySlot){if(!H){H=true;i.hide();f.draggable("option","grid",null)}ua(N,D(o(d.start),aa.colDelta),D(Pa(d),aa.colDelta))}else p()},true);N.mouse(Y)},drag:function(Y,O){y=Math.round((O.position.top-t.top)/C);if(y!=z){if(!H){O=y*b.slotMinutes;var aa=da(o(d.start),O),Ca;if(d.end)Ca=da(o(d.end),O);i.text(Ea(aa,Ca,w.option("timeFormat")))}z=y}N.mouse(Y)},stop:function(Y,O){w.clearOverlays();w.trigger("eventDragStop",
f,d,Y,O);var aa=N.cell,Ca=W*(H?aa?aa.colDelta:0:Math.floor((O.position.left-t.left)/q));if(!aa||!y&&!Ca){p();m.browser.msie&&f.css("filter","").find("span.fc-event-bg").css("display","");f.css(t);w.showEvents(d,f)}else w.eventDrop(this,d,Ca,H?0:y*b.slotMinutes,H,Y,O)}})}}function ja(d,f,i){if(!b.disableResizing&&f.resizable){var t,p;f.resizable({handles:{s:"div.ui-resizable-s"},grid:C,start:function(z,y){t=p=0;w.hideEvents(d,f);m.browser.msie&&m.browser.version=="6.0"&&f.css("overflow","hidden");
f.css("z-index",9);w.trigger("eventResizeStart",this,d,z,y)},resize:function(z,y){t=Math.round((Math.max(C,f.height())-y.originalSize.height)/C);if(t!=p){i.text(Ea(d.start,!t&&!d.end?null:da(w.eventEnd(d),b.slotMinutes*t),w.option("timeFormat")));p=t}},stop:function(z,y){w.trigger("eventResizeStop",this,d,z,y);if(t)w.eventResize(this,d,0,b.slotMinutes*t,z,y);else{f.css("z-index",8);w.showEvents(d,f)}}})}}function ga(d){if(w.option("selectable")){ta=na(function(f){if(f){f=U(f.col);Fa.drag(f,f,true)}else Fa.drag()});
$a(function(f){ta.mouse(f)},function(f){Fa.dragStop(f)});Fa.dragStart(d);ta.mouse(d);return false}}function ea(d){if(w.option("selectable")){ta=u(function(f){if(f){f=ia(f.row,f.origCol);Ga.drag(f,da(o(f),b.slotMinutes),false)}else Ga.drag()});$a(function(f){ta.mouse(f)},function(f){Ga.dragStop(f)});Ga.dragStart(d);ta.mouse(d);return false}}function fa(){Ga.unselect();Fa.unselect()}function ka(d,f){var i=w.option("selectHelper");if(i){var t=Aa(d,w.visStart);if(t>=0&&t<g){t=ta.rect(0,t*W+qa,1,t*W+qa+
1,n);var p=L(d,d),z=L(d,f);if(z>p){t.top=p;t.height=z-p;t.left+=2;t.width-=5;if(m.isFunction(i)){if(d=i(d,f)){t.position="absolute";t.zIndex=8;ra=m(d).css(t).appendTo(n)}}else{ra=m(ha({title:"",start:d,end:f,className:[],editable:false},t,"fc-event fc-event-vert fc-corner-top fc-corner-bottom "));m.browser.msie&&ra.find("span.fc-event-bg").hide();ra.css("opacity",w.option("dragOpacity"))}if(ra){E(ra);n.append(ra);Ja(ra,t.width,true);Ra(ra,t.height,true)}}}}else Z(ta,d,f)}function ca(){Q();if(ra){ra.remove();
ra=null}}function ua(d,f,i){var t;if(Sa){t=Aa(i,w.visStart)*W+qa+1;f=Aa(f,w.visStart)*W+qa+1}else{t=Aa(f,w.visStart);f=Aa(i,w.visStart)}t=Math.max(0,t);f=Math.min(g,f);if(t<f){d=d.rect(0,t,1,f,V);F(w.renderOverlay(d,V))}}function Z(d,f,i){for(var t=o(w.visStart),p=D(o(t),1),z=0;z<g;z++){var y=new Date(Math.max(t,f)),H=new Date(Math.min(p,i));if(y<H){var N=d.rect(0,z*W+qa,1,z*W+qa+1,n);y=L(t,y);H=L(t,H);N.top=y;N.height=H-y;E(w.renderOverlay(N,n))}D(t,1);D(p,1)}}function Q(){w.clearOverlays()}function L(d,
f){d=o(d,true);if(f<da(o(d),Ba))return 0;if(f>=da(o(d),Ta))return n.height();d=b.slotMinutes;f=f.getHours()*60+f.getMinutes()-Ba;var i=Math.floor(f/d),t=eb[i];if(t===J)t=eb[i]=G.find("tr:eq("+i+") td div")[0].offsetTop;return Math.max(0,Math.round(t-1+C*(f%d/d)))}function na(d,f){var i=b.allDaySlot?V.find("td"):m([]);if(f)i=i.add(G);return new ab(i,K.find("td"),d)}function u(d){return new ab(k.find("td"),K.find("td"),d)}function va(d){return d.end?o(d.end):da(o(d.start),b.defaultEventMinutes)}function sa(d){return(d-
Math.max(vb,La)+g)%g*W+qa}function U(d){return D(o(w.visStart),d*W+qa)}function ia(d,f){f=U(f);da(f,Ba+d*b.slotMinutes);return f}var V,G,n,k,K,g,v=0,x,q,C,M,X,T,xa=[],db,Ma,ma,vb,La,Sa,W,qa,Ba,Ta,Qa=new nb(function(d){return K.find("td:eq("+d+") div div")}),eb={},Fa,Ga,ra,ta,w=m.extend(this,ob,e,{renderAgenda:c,renderEvents:I,rerenderEvents:B,clearEvents:S,setHeight:l,setWidth:j,beforeHide:function(){T=G.scrollTop()},afterShow:function(){G.scrollTop(T)},defaultEventEnd:function(d){var f=o(d.start);
if(d.allDay)return f;return da(f,b.defaultEventMinutes)}});w.init(a,b);pb(a.addClass("fc-agenda"));Fa=new bb(w,fa,function(d,f){ua(ta,d,D(o(f),1))},ca);Ga=new bb(w,fa,ka,ca);qb(w,fa);this.select=function(d,f,i){if(i){if(b.allDaySlot){f||(f=o(d));ta=na();Fa.select(d,f,i)}}else{f||(f=da(o(d),b.slotMinutes));ta=u();Ga.select(d,f,i)}};this.unselect=fa}function Eb(a){var b,e,c,h,l,j;for(b=a.length-1;b>0;b--){h=a[b];for(e=0;e<h.length;e++){l=h[e];for(c=0;c<a[b-1].length;c++){j=a[b-1][c];if(Ab(l,j))j.forward=
Math.max(j.forward||0,(l.forward||0)+1)}}}}function rb(a,b,e){a.unbind("mouseover").mouseover(function(c){for(var h=c.target,l;h!=this;){l=h;h=h.parentNode}if((h=l._fci)!==J){l._fci=J;l=b[h];e(l.event,l.element,l);m(c.target).trigger(c)}c.stopPropagation()})}function Za(a){var b=[],e,c=a.length,h,l,j,F;for(e=0;e<c;e++){h=a[e];for(l=0;;){j=false;if(b[l])for(F=0;F<b[l].length;F++)if(Ab(b[l][F],h)){j=true;break}if(j)l++;else break}if(b[l])b[l].push(h);else b[l]=[h]}return b}function Gb(a,b){return(b.msLength-
a.msLength)*100+(a.event.start-b.event.start)}function Ab(a,b){return a.end>b.start&&a.start<b.end}function bb(a,b,e,c){function h(){F=true;a.trigger("select",a,I,B,S)}function l(){if(F){F=false;I=B=J;c();a.trigger("unselect",a)}}var j=this,F=false,E,s,I,B,S;j.dragStart=function(r){b();s=I=B=J;E=r.currentTarget};j.drag=function(r,$,A){if(r){r=[r,$];s||(s=r);r=s.concat(r).sort(Hb);I=r[0];B=r[3];S=A;c();e(o(I),o(B),S)}else{I=B=J;c()}};j.dragStop=function(r){if(I){+s[0]==+I&&+s[1]==+B&&a.trigger("dayClick",
E,I,S,r);h()}};j.select=function(r,$,A){b();I=r;B=$;S=A;e(o(I),o(B),S);h()};j.unselect=l}function $a(a,b){function e(c){b(c);m(document).unbind("mousemove",a).unbind("mouseup",e)}m(document).mousemove(a).mouseup(e)}function qb(a,b){a.option("selectable")&&a.option("unselectAuto")&&m(document).mousedown(function(e){var c=a.option("unselectCancel");if(c)if(m(e.target).parents(c).length)return;b()})}function gb(a,b,e){a.setFullYear(a.getFullYear()+b);e||Ia(a);return a}function hb(a,b,e){if(+a){b=a.getMonth()+
b;var c=o(a);c.setDate(1);c.setMonth(b);a.setMonth(b);for(e||Ia(a);a.getMonth()!=c.getMonth();)a.setDate(a.getDate()+(a<c?1:-1))}return a}function D(a,b,e){if(+a){b=a.getDate()+b;var c=o(a);c.setHours(9);c.setDate(b);a.setDate(b);e||Ia(a);ib(a,c)}return a}function ib(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*Ib)}function da(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ia(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function o(a,b){if(b)return Ia(new Date(+a));
return new Date(+a)}function xb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function ba(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)D(a,b);return a}function Aa(a,b){return Math.round((o(a,true)-o(b,true))/Bb)}function Ja(a,b,e){a.each(function(c,h){h.style.width=b-cb(h,e)+"px"})}function Ra(a,b,e){a.each(function(c,h){h.style.height=b-fb(h,e)+"px"})}function cb(a,b){return(parseFloat(jQuery.curCSS(a,"paddingLeft",true))||0)+(parseFloat(jQuery.curCSS(a,
"paddingRight",true))||0)+(parseFloat(jQuery.curCSS(a,"borderLeftWidth",true))||0)+(parseFloat(jQuery.curCSS(a,"borderRightWidth",true))||0)+(b?Jb(a):0)}function Jb(a){return(parseFloat(jQuery.curCSS(a,"marginLeft",true))||0)+(parseFloat(jQuery.curCSS(a,"marginRight",true))||0)}function fb(a,b){return(parseFloat(jQuery.curCSS(a,"paddingTop",true))||0)+(parseFloat(jQuery.curCSS(a,"paddingBottom",true))||0)+(parseFloat(jQuery.curCSS(a,"borderTopWidth",true))||0)+(parseFloat(jQuery.curCSS(a,"borderBottomWidth",
true))||0)+(b?tb(a):0)}function tb(a){return(parseFloat(jQuery.curCSS(a,"marginTop",true))||0)+(parseFloat(jQuery.curCSS(a,"marginBottom",true))||0)}function jb(a,b){b=typeof b=="number"?b+"px":b;a[0].style.cssText+=";min-height:"+b+";_height:"+b}function Kb(a){if(Va!==false){var b;if(a.is("th,td"))a=(b=a).parent();if(Va===J&&a.is("tr"))Va=a.position().top!=a.children().position().top;if(Va)return a.parent().position().top+(b?a.position().top-b.position().top:0)}return 0}function ab(a,b,e){var c=
this,h=[],l=[],j,F,E,s,I;m.each(a,function(B,S){I=m(S);h.push(I.offset().top+Kb(I))});h.push(h[h.length-1]+I.outerHeight());m.each(b,function(B,S){I=m(S);l.push(I.offset().left)});l.push(l[l.length-1]+I.outerWidth());c.mouse=function(B){var S=B.pageX,r=B.pageY;for(B=0;B<h.length&&r>=h[B];B++);for(r=0;r<l.length&&S>=l[r];r++);B=B>=h.length?-1:B-1;r=r>=l.length?-1:r-1;if(B!=E||r!=s){E=B;s=r;if(B==-1||r==-1)c.cell=null;else{if(j===J){j=B;F=r}c.cell={row:B,col:r,top:h[B],left:l[r],width:l[r+1]-l[r],height:h[B+
1]-h[B],origRow:j,origCol:F,isOrig:B==j&&r==F,rowDelta:B-j,colDelta:r-F}}e(c.cell)}};c.rect=function(B,S,r,$,A){A=A.offset();return{top:h[B]-A.top,left:l[S]-A.left,width:l[$]-l[S],height:h[r]-h[B]}}}function Na(a){return(a<10?"0":"")+a}function kb(a,b){if(a[b]!==J)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,c;e>=0;e--){c=a[b[e].toLowerCase()];if(c!==J)return c}return a[""]}function Ka(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,
"&quot;")}function nb(a){function b(j){return c[j]=c[j]||a(j)}var e=this,c={},h={},l={};e.left=function(j){return h[j]=h[j]===J?b(j).position().left:h[j]};e.right=function(j){return l[j]=l[j]===J?e.left(j)+b(j).width():l[j]};e.clear=function(){c={};h={};l={}}}function sb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function Hb(a,b){return a-b}function Pa(a){return a.end?Lb(a.end,a.allDay):D(o(a.start),1)}function Lb(a,b){a=o(a);return b||
a.getHours()||a.getMinutes()?D(a,1):a}function pb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}var ya=m.fullCalendar={},Oa=ya.views={},Wa={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",
week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",
nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true},Mb={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Cb=ya.setDefaults=function(a){m.extend(true,Wa,a)};m.fn.fullCalendar=
function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),e;this.each(function(){var l=m.data(this,"fullCalendar");if(l)if(l=l[a]){l=l.apply(this,b);if(e===J)e=l}});if(e!==J)return e;return this}var c=a.eventSources||[];delete a.eventSources;if(a.events){c.push(a.events);delete a.events}c.unshift([]);a=m.extend(true,{},Wa,a.isRTL||a.isRTL===J&&Wa.isRTL?Mb:{},a);var h=a.theme?"ui":"fc";this.each(function(){function l(g){if(g!=na){Q++;s();var v=u,x;if(v){if(v.eventsChanged){B();
v.eventDirty=v.eventsChanged=false}v.beforeHide&&v.beforeHide();jb(ca,ca.height());v.element.hide()}else jb(ca,1);ca.css("overflow","hidden");if(va[g])(u=va[g]).element.show();else u=va[g]=ya.views[g](x=sa=m("<div class='fc-view fc-view-"+g+"' style='position:absolute'/>").appendTo(ca),a);if(k){k.find("div.fc-button-"+na).removeClass(h+"-state-active");k.find("div.fc-button-"+g).addClass(h+"-state-active")}u.name=na=g;j();ca.css("overflow","");v&&jb(ca,1);!x&&u.afterShow&&u.afterShow();Q--}}function j(g){if(F()){Q++;
s();ua===J&&wa();if(!u.start||g||L<u.start||L>=u.end){u.render(L,g||0);R(true);!ia||!a.lazyFetching||u.visStart<ia||u.visEnd>V?P():u.renderEvents(U)}else if(u.sizeDirty||u.eventsDirty||!a.lazyFetching){u.clearEvents();u.sizeDirty&&R();a.lazyFetching?u.renderEvents(U):P()}ka=fa.outerWidth();u.sizeDirty=false;u.eventsDirty=false;if(k){k.find("h2.fc-header-title").html(u.title);g=new Date;g>=u.start&&g<u.end?k.find("div.fc-button-today").addClass(h+"-state-disabled"):k.find("div.fc-button-today").removeClass(h+
"-state-disabled")}Q--;u.trigger("viewDisplay",ea)}}function F(){return ea.offsetWidth!==0}function E(){return m("body")[0].offsetWidth!==0}function s(){u&&u.unselect()}function I(){B();if(F()){u.clearEvents();u.renderEvents(U);u.eventsDirty=false}}function B(){m.each(va,function(){this.eventsDirty=true})}function S(){r();if(F()){wa();R();s();u.rerenderEvents();u.sizeDirty=false}}function r(){m.each(va,function(){this.sizeDirty=true})}function $(g){U=[];ia=o(u.visStart);V=o(u.visEnd);for(var v=c.length,
x=function(){--v||g&&g(U)},q=0;q<c.length;q++)A(c[q],x)}function A(g,v){var x=u.name,q=o(L),C=function(T){if(x==u.name&&+q==+L&&m.inArray(g,c)!=-1){for(var xa=0;xa<T.length;xa++){Ha(T[xa],a);T[xa].source=g}U=U.concat(T);v&&v(T)}},M=function(T){C(T);pa()};if(typeof g=="string"){var X={};X[a.startParam]=Math.round(ia.getTime()/1E3);X[a.endParam]=Math.round(V.getTime()/1E3);if(a.cacheParam)X[a.cacheParam]=(new Date).getTime();ha();m.ajax({url:g,dataType:"json",data:X,cache:a.cacheParam||false,success:M})}else if(m.isFunction(g)){ha();
g(o(ia),o(V),M)}else C(g)}function P(){$(function(g){u.renderEvents(g)})}function ha(){G++||u.trigger("loading",ea,true)}function pa(){--G||u.trigger("loading",ea,false)}function la(g){if(g){var v=m("<tr/>");m.each(g.split(" "),function(x){x>0&&v.append("<td><span class='fc-header-space'/></td>");var q;m.each(this.split(","),function(C,M){if(M=="title"){v.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");q&&q.addClass(h+"-corner-right");q=null}else{var X;if(n[M])X=n[M];else if(Oa[M])X=function(){T.removeClass(h+
"-state-hover");l(M)};if(X){q&&q.addClass(h+"-no-right");var T;C=a.theme?kb(a.buttonIcons,M):null;var xa=kb(a.buttonText,M);if(C)T=m("<div class='fc-button-"+M+" ui-state-default'><a><span class='ui-icon ui-icon-"+C+"'/></a></div>");else if(xa)T=m("<div class='fc-button-"+M+" "+h+"-state-default'><a><span>"+xa+"</span></a></div>");if(T){T.click(function(){T.hasClass(h+"-state-disabled")||X()}).mousedown(function(){T.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-down")}).mouseup(function(){T.removeClass(h+
"-state-down")}).hover(function(){T.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-hover")},function(){T.removeClass(h+"-state-hover").removeClass(h+"-state-down")}).appendTo(m("<td/>").appendTo(v));q?q.addClass(h+"-no-right"):T.addClass(h+"-corner-left");q=T}}}});q&&q.addClass(h+"-corner-right")});return m("<table/>").append(v)}}function wa(){ua=a.contentHeight?a.contentHeight:a.height?a.height-(k?k.height():0)-fb(ca[0]):Math.round(ca.width()/Math.max(a.aspectRatio,0.5))}
function R(g){Q++;u.setHeight(ua,g);if(sa){sa.css("position","relative");sa=null}u.setWidth(ca.width(),g);Q--}function ja(){if(!Q)if(u.start){var g=++Z;setTimeout(function(){if(g==Z&&!Q&&F())if(ka!=(ka=fa.outerWidth())){Q++;S();u.trigger("windowResize",ea);Q--}},200)}else ga()}function ga(){setTimeout(function(){!u.start&&E()&&j()},0)}var ea=this,fa=m(ea).addClass("fc"),ka,ca=m("<div class='fc-content "+h+"-widget-content' style='position:relative'/>").prependTo(ea),ua,Z=0,Q=0,L=new Date,na,u,va=
{},sa;a.isRTL&&fa.addClass("fc-rtl");a.theme&&fa.addClass("ui-widget");if(a.year!==J&&a.year!=L.getFullYear()){L.setDate(1);L.setMonth(0);L.setFullYear(a.year)}if(a.month!==J&&a.month!=L.getMonth()){L.setDate(1);L.setMonth(a.month)}a.date!==J&&L.setDate(a.date);var U=[],ia,V,G=0,n={render:function(){wa();r();B();j()},changeView:l,getView:function(){return u},getDate:function(){return L},option:function(g,v){if(v===J)return a[g];if(g=="height"||g=="contentHeight"||g=="aspectRatio"){a[g]=v;S()}},destroy:function(){m(window).unbind("resize",
ja);k&&k.remove();ca.remove();m.removeData(ea,"fullCalendar")},prev:function(){j(-1)},next:function(){j(1)},prevYear:function(){gb(L,-1);j()},nextYear:function(){gb(L,1);j()},today:function(){L=new Date;j()},gotoDate:function(g,v,x){if(typeof g=="object")L=o(g);else{g!==J&&L.setFullYear(g);v!==J&&L.setMonth(v);x!==J&&L.setDate(x)}j()},incrementDate:function(g,v,x){g!==J&&gb(L,g);v!==J&&hb(L,v);x!==J&&D(L,x);j()},updateEvent:function(g){var v,x=U.length,q,C=g.start-g._start,M=g.end?g.end-(g._end||
u.defaultEventEnd(g)):0;for(v=0;v<x;v++){q=U[v];if(q._id==g._id&&q!=g){q.start=new Date(+q.start+C);q.end=g.end?q.end?new Date(+q.end+M):new Date(+u.defaultEventEnd(q)+M):null;q.title=g.title;q.url=g.url;q.allDay=g.allDay;q.className=g.className;q.editable=g.editable;Ha(q,a)}}Ha(g,a);I()},renderEvent:function(g,v){Ha(g,a);if(!g.source){if(v)(g.source=c[0]).push(g);U.push(g)}I()},removeEvents:function(g){if(g){if(!m.isFunction(g)){var v=g+"";g=function(q){return q._id==v}}U=m.grep(U,g,true);for(x=
0;x<c.length;x++)if(typeof c[x]=="object")c[x]=m.grep(c[x],g,true)}else{U=[];for(var x=0;x<c.length;x++)if(typeof c[x]=="object")c[x]=[]}I()},clientEvents:function(g){if(m.isFunction(g))return m.grep(U,g);else if(g){g+="";return m.grep(U,function(v){return v._id==g})}return U},rerenderEvents:I,addEventSource:function(g){c.push(g);A(g,I)},removeEventSource:function(g){c=m.grep(c,function(v){return v!=g});U=m.grep(U,function(v){return v.source!=g});I()},refetchEvents:function(){$(I)},select:function(g,
v,x){u.select(g,v,x===J?true:x)},unselect:function(){u.unselect()}};m.data(this,"fullCalendar",n);var k,K=a.header;if(K)k=m("<table class='fc-header'/>").append(m("<tr/>").append(m("<td class='fc-header-left'/>").append(la(K.left))).append(m("<td class='fc-header-center'/>").append(la(K.center))).append(m("<td class='fc-header-right'/>").append(la(K.right)))).prependTo(fa);m(window).resize(ja);l(a.defaultView);E()||ga()});return this};var Db=0;Cb({weekMode:"fixed"});Oa.month=function(a,b){return new Xa(a,
b,{render:function(e,c){if(c){hb(e,c);e.setDate(1)}e=this.start=o(e,true);e.setDate(1);this.end=hb(o(e),1);var h=this.visStart=o(e);c=this.visEnd=o(this.end);var l=b.weekends?0:1;if(l){ba(h);ba(c,-1,true)}D(h,-((h.getDay()-Math.max(b.firstDay,l)+7)%7));D(c,(7-c.getDay()+Math.max(b.firstDay,l))%7);h=Math.round((c-h)/(Bb*7));if(b.weekMode=="fixed"){D(c,(6-h)*7);h=6}this.title=oa(e,this.option("titleFormat"),b);this.renderGrid(h,b.weekends?7:5,this.option("columnFormat"),true)}})};Oa.basicWeek=function(a,
b){return new Xa(a,b,{render:function(e,c){c&&D(e,c*7);e=this.visStart=o(this.start=D(o(e),-((e.getDay()-b.firstDay+7)%7)));c=this.visEnd=o(this.end=D(o(e),7));if(!b.weekends){ba(e);ba(c,-1,true)}this.title=Ea(e,D(o(c),-1),this.option("titleFormat"),b);this.renderGrid(1,b.weekends?7:5,this.option("columnFormat"),false)}})};Oa.basicDay=function(a,b){return new Xa(a,b,{render:function(e,c){if(c){D(e,c);b.weekends||ba(e,c<0?-1:1)}this.title=oa(e,this.option("titleFormat"),b);this.start=this.visStart=
o(e,true);this.end=this.visEnd=D(o(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false)}})};var Ya;Cb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Oa.agendaWeek=function(a,b){return new ub(a,b,{render:function(e,c){c&&D(e,c*7);e=this.visStart=o(this.start=D(o(e),-((e.getDay()-b.firstDay+7)%7)));c=this.visEnd=o(this.end=D(o(e),7));if(!b.weekends){ba(e);
ba(c,-1,true)}this.title=Ea(e,D(o(c),-1),this.option("titleFormat"),b);this.renderAgenda(b.weekends?7:5,this.option("columnFormat"))}})};Oa.agendaDay=function(a,b){return new ub(a,b,{render:function(e,c){if(c){D(e,c);b.weekends||ba(e,c<0?-1:1)}this.title=oa(e,this.option("titleFormat"),b);this.start=this.visStart=o(e,true);this.end=this.visEnd=D(o(this.start),1);this.renderAgenda(1,this.option("columnFormat"))}})};var ob={init:function(a,b){this.element=a;this.options=b;this.eventsByID={};this.eventElements=
[];this.eventElementsByID={};this.usedOverlays=[];this.unusedOverlays=[]},trigger:function(a,b){if(this.options[a])return this.options[a].apply(b||this,Array.prototype.slice.call(arguments,2).concat([this]))},eventEnd:function(a){return a.end?o(a.end):this.defaultEventEnd(a)},reportEvents:function(a){var b,e=a.length,c,h=this.eventsByID={};for(b=0;b<e;b++){c=a[b];if(h[c._id])h[c._id].push(c);else h[c._id]=[c]}},reportEventElement:function(a,b){this.eventElements.push(b);var e=this.eventElementsByID;
if(e[a._id])e[a._id].push(b);else e[a._id]=[b]},_clearEvents:function(){this.eventElements=[];this.eventElementsByID={}},showEvents:function(a,b){this._eee(a,b,"show")},hideEvents:function(a,b){this._eee(a,b,"hide")},_eee:function(a,b,e){a=this.eventElementsByID[a._id];var c,h=a.length;for(c=0;c<h;c++)a[c][0]!=b[0]&&a[c][e]()},eventDrop:function(a,b,e,c,h,l,j){var F=this,E=b.allDay,s=b._id;F.moveEvents(F.eventsByID[s],e,c,h);F.trigger("eventDrop",a,b,e,c,h,function(){F.moveEvents(F.eventsByID[s],
-e,-c,E);F.rerenderEvents()},l,j);F.eventsChanged=true;F.rerenderEvents(s)},eventResize:function(a,b,e,c,h,l){var j=this,F=b._id;j.elongateEvents(j.eventsByID[F],e,c);j.trigger("eventResize",a,b,e,c,function(){j.elongateEvents(j.eventsByID[F],-e,-c);j.rerenderEvents()},h,l);j.eventsChanged=true;j.rerenderEvents(F)},moveEvents:function(a,b,e,c){e=e||0;for(var h,l=a.length,j=0;j<l;j++){h=a[j];if(c!==J)h.allDay=c;da(D(h.start,b,true),e);if(h.end)h.end=da(D(h.end,b,true),e);Ha(h,this.options)}},elongateEvents:function(a,
b,e){e=e||0;for(var c,h=a.length,l=0;l<h;l++){c=a[l];c.end=da(D(this.eventEnd(c),b,true),e);Ha(c,this.options)}},renderOverlay:function(a,b){var e=this.unusedOverlays.shift();e||(e=m("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));e[0].parentNode!=b[0]&&e.appendTo(b);this.usedOverlays.push(e.css(a).show());return e},clearOverlays:function(){for(var a;a=this.usedOverlays.shift();)this.unusedOverlays.push(a.hide().unbind())},resizableDayEvent:function(a,b,e){var c=this;if(!c.options.disableResizing&&
b.resizable)b.resizable({handles:c.options.isRTL?{w:"div.ui-resizable-w"}:{e:"div.ui-resizable-e"},grid:e,minWidth:e/2,containment:c.element.parent().parent(),start:function(h,l){b.css("z-index",9);c.hideEvents(a,b);c.trigger("eventResizeStart",this,a,h,l)},stop:function(h,l){c.trigger("eventResizeStop",this,a,h,l);var j=Math.round((b.width()-l.originalSize.width)/e);if(j)c.eventResize(this,a,j,0,h,l);else{b.css("z-index",8);c.showEvents(a,b)}}})},eventElementHandlers:function(a,b){var e=this;b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&
!b.hasClass("ui-resizable-resizing"))return e.trigger("eventClick",this,a,c)}).hover(function(c){e.trigger("eventMouseover",this,a,c)},function(c){e.trigger("eventMouseout",this,a,c)})},option:function(a,b){a=this.options[a];if(typeof a=="object")return kb(a,b||this.name);return a},sliceSegs:function(a,b,e,c){var h=[],l,j=a.length,F,E,s,I,B;for(l=0;l<j;l++){F=a[l];E=F.start;s=b[l];if(s>e&&E<c){if(E<e){E=o(e);I=false}else{E=E;I=true}if(s>c){s=o(c);B=false}else{s=s;B=true}h.push({event:F,start:E,end:s,
isStart:I,isEnd:B,msLength:s-E})}}return h.sort(Gb)}},Bb=864E5,Ib=36E5,Fb=6E4;ya.addDays=D;ya.cloneDate=o;var lb=ya.parseDate=function(a){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+$/))return new Date(parseInt(a)*1E3);return Nb(a,true)||(a?new Date(a):null)}return null},Nb=ya.parseISO8601=function(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);
if(!a)return null;var e=new Date(a[1],0,1),c=new Date(a[1],0,1,9,0),h=0;if(a[3]){e.setMonth(a[3]-1);c.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);c.setDate(a[5])}ib(e,c);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);ib(e,c);if(!b){if(a[14]){h=Number(a[16])*60+Number(a[17]);h*=a[15]=="-"?1:-1}h-=e.getTimezoneOffset()}return new Date(+e+h*60*1E3)},wb=ya.parseTime=function(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*
60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1]);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2]):0)}},oa=ya.formatDate=function(a,b,e){return Ea(a,null,b,e)},Ea=ya.formatDates=function(a,b,e,c){c=c||Wa;var h=a,l=b,j,F=e.length,E,s,I,B="";for(j=0;j<F;j++){E=e.charAt(j);if(E=="'")for(s=j+1;s<F;s++){if(e.charAt(s)=="'"){if(h){B+=s==j+1?"'":e.substring(j+1,s);j=s}break}}else if(E=="(")for(s=j+1;s<F;s++){if(e.charAt(s)==")"){j=
oa(h,e.substring(j+1,s),c);if(parseInt(j.replace(/\D/,"")))B+=j;j=s;break}}else if(E=="[")for(s=j+1;s<F;s++){if(e.charAt(s)=="]"){E=e.substring(j+1,s);j=oa(h,E,c);if(j!=oa(l,E,c))B+=j;j=s;break}}else if(E=="{"){h=b;l=a}else if(E=="}"){h=a;l=b}else{for(s=F;s>j;s--)if(I=Ob[e.substring(j,s)]){if(h)B+=I(h,c);j=s-1;break}if(s==j)if(h)B+=E}}return B},Ob={s:function(a){return a.getSeconds()},ss:function(a){return Na(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Na(a.getMinutes())},
h:function(a){return a.getHours()%12||12},hh:function(a){return Na(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Na(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Na(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Na(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},
yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return oa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}},Va,J,za=["sun","mon","tue","wed","thu","fri","sat"]})(jQuery);
